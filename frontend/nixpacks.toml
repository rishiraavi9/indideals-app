# Nixpacks configuration for Railway frontend deployment

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm ci || npm install"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "npx serve dist -s -l ${PORT:-3000}"

[variables]
NODE_ENV = "production"

# Railway health check - use root path for static sites
[healthcheck]
path = "/"
